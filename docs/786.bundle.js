"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[786],{552:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(861),a=n(942),o=n(152),c=n(757),s=n.n(c),l=n(294),i=n(823),m=n(935);const u=function(e){var t=e.isOpen,n=e.onClose,r=e.children;return t?m.createPortal(l.createElement("div",{className:"Modal"},l.createElement("div",{className:"Modal__container"},l.createElement("button",{onClick:n,className:"Modal__close-button"},"X"),r)),document.getElementById("modal")):null};function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const d=function(e){var t=e.isOpen,n=e.onClose,a=e.formType,c=e.id,m=void 0===c?"":c,p=(0,l.useState)({nickname:"",content:"",nick:"",comment:""}),d=(0,o.Z)(p,2),h=d[0],b=d[1],v=function(){var e=(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(h.nickname.length>=5&&h.content.length>=10||h.nick.length>=5&&h.comment.length>=10)){e.next=10;break}if("session"!==a){e.next=6;break}return e.next=4,(0,i.O9)(h);case 4:e.next=8;break;case 6:return e.next=8,(0,i.O9)(h,"/session/".concat(m));case 8:e.next=11;break;case 10:alert("The nickname must have at least 5 characters and the content 10.");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l.createElement(u,{isOpen:t,onClose:n},l.createElement("div",null,l.createElement("div",{className:"mb-3"},l.createElement("label",{htmlFor:"exampleFormControlInput1",className:"form-label"},"session"===a?"nickname":"nick"),l.createElement("input",{onChange:function(e){var t=e.target.value;b(f(f({},h),{},"session"===a?{nickname:t}:{nick:t}))},type:"email",className:"form-control",id:"exampleFormControlInput1",placeholder:"nickname"})),l.createElement("div",{className:"mb-3"},l.createElement("label",{htmlFor:"exampleFormControlTextarea1",className:"form-label"},"comment"),l.createElement("textarea",{onChange:function(e){var t=e.target.value;b(f(f({},h),{},"session"===a?{content:t}:{comment:t}))},className:"form-control",id:"exampleFormControlTextarea1",rows:"3"})),l.createElement("button",{onClick:v,type:"button",className:"btn btn-primary mr-2"},"Save"),l.createElement("button",{onClick:n,type:"button",className:"btn btn-dark"},"Cancel")))}},823:(e,t,n)=>{n.d(t,{XD:()=>l,yK:()=>i,O9:()=>m});var r=n(861),a=n(152),o=n(757),c=n.n(o),s=n(294),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(0,s.useState)(),n=(0,a.Z)(t,2),o=n[0],l=n[1];return(0,s.useEffect)((function(){fetch(e).then(function(){var e=(0,r.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=6;break}return e.t0=l,e.next=4,t.json();case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),o},i=function(e,t){var n="https://ale31jofirst.herokuapp.com/api/reaction/"+e,r={reaction:t},a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},o=new Request(n,a);fetch(o).then((function(e){e.ok&&console.log("ya")})).catch((function(e){console.log(e)}))},m=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,a,o,s=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"",r="https://ale31jofirst.herokuapp.com/api",a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},o=new Request(r+n,a),e.next=6,fetch(o).then((function(e){if(!e.ok)return alert("There was an error. Please try again.");""===n?alert("Session saved."):alert("Comment saved.")}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},786:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var r=n(152),a=n(294),o=n(974);const c=function(e){var t=e.comment;return a.createElement("div",{className:"card",style:{width:"18rem"}},a.createElement("div",{className:"card-body"},a.createElement("h5",{className:"card-title"},t.nick),a.createElement("p",{className:"card-text"},t.comment)))};var s=n(552),l=n(823);const i=function(){var e=(0,a.useState)(!1),t=(0,r.Z)(e,2),n=t[0],i=t[1],m=(0,o.UO)().id,u=(0,l.XD)("https://ale31jofirst.herokuapp.com/api/session/"+m);return u?a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"row"},0!==u.comments.length?u.comments.map((function(e){return a.createElement(c,{key:e._id,comment:e})})):a.createElement("h1",null,"No comments yet")),a.createElement("button",{className:"fixed-bottom btn btn-secondary btn-lg",onClick:function(){i(!0)}},"New comment"),a.createElement(s.Z,{id:m,isOpen:n,onClose:function(){i(!1)},formType:"comment"})):a.createElement("h1",null,"Loading")}}}]);